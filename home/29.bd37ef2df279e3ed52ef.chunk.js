webpackJsonp([29],{"9zph":function(n,l,e){"use strict";function t(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["",""]))],null,function(n,l){n(l,1,0,l.component.menuData.secMenusTitle)})}function u(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,0,"a",[["class","return iconfont_bsby bsby-return"],["href","javascript:;"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.fnBack()&&t}return t},null,null))],null,null)}function o(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,3,"a",[["class","disabled"],["href","javascript:;"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t\t\t\t"])),(n()(),N["\u0275eld"](0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),N["\u0275ted"](null,["\n                        ","\n\t\t\t\t\t"]))],null,function(n,l){n(l,2,0,N["\u0275inlineInterpolate"](1,"iconfont_bsby  ",l.parent.context.$implicit.fonticon,"")),n(l,3,0,l.parent.context.$implicit.name)})}function i(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,4,"a",[["href","javascript:;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==N["\u0275nov"](n,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t}return t},null,null)),N["\u0275did"](671744,[[2,4]],0,_.p,[_.m,_.a,O.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),N["\u0275ted"](null,["\n\t\t\t\t\t\t"])),(n()(),N["\u0275eld"](0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),N["\u0275ted"](null,["\n                        ","\n                    "]))],function(n,l){n(l,1,0,l.parent.context.$implicit.url)},function(n,l){n(l,0,0,N["\u0275nov"](l,1).target,N["\u0275nov"](l,1).href),n(l,3,0,N["\u0275inlineInterpolate"](1,"iconfont_bsby  ",l.parent.context.$implicit.fonticon,"")),n(l,4,0,l.parent.context.$implicit.name)})}function a(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,3,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t\t\t\t"])),(n()(),N["\u0275eld"](0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),N["\u0275ted"](null,["\n                        ","\n                    "]))],null,function(n,l){n(l,0,0,N["\u0275inlineInterpolate"](1,"#/",l.parent.context.$implicit.url,"")),n(l,2,0,N["\u0275inlineInterpolate"](1,"iconfont_bsby  ",l.parent.context.$implicit.fonticon,"")),n(l,3,0,l.parent.context.$implicit.name)})}function r(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,13,"li",[["class","menu-ul-li"],["routerLinkActive","active"]],null,null,null,null,null)),N["\u0275did"](1720320,null,2,_.o,[_.m,N.ElementRef,N.Renderer,N.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),N["\u0275qud"](603979776,1,{links:1}),N["\u0275qud"](603979776,2,{linksWithHrefs:1}),(n()(),N["\u0275ted"](null,["\n\t\t\t\t\t"])),(n()(),N["\u0275and"](16777216,null,null,1,null,o)),N["\u0275did"](16384,null,0,O.NgIf,[N.ViewContainerRef,N.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),N["\u0275ted"](null,["\n\t\t\t\t\t"])),(n()(),N["\u0275and"](16777216,null,null,1,null,i)),N["\u0275did"](16384,null,0,O.NgIf,[N.ViewContainerRef,N.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),N["\u0275ted"](null,["\n                    "])),(n()(),N["\u0275and"](16777216,null,null,1,null,a)),N["\u0275did"](16384,null,0,O.NgIf,[N.ViewContainerRef,N.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),N["\u0275ted"](null,["\n\t\t\t\t"]))],function(n,l){n(l,1,0,"active"),n(l,6,0,l.context.$implicit.disabled),n(l,9,0,!l.context.$implicit.disabled&&!l.context.$implicit.newTarget),n(l,12,0,l.context.$implicit.newTarget)},null)}function s(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,40,"div",[["class","gr-secound-menu"]],null,null,null,null,null)),N["\u0275did"](278528,null,0,O.NgStyle,[N.KeyValueDiffers,N.ElementRef,N.Renderer],{ngStyle:[0,"ngStyle"]},null),N["\u0275pod"](["width"]),(n()(),N["\u0275ted"](null,["\n\t\t"])),(n()(),N["\u0275eld"](0,null,null,7,"div",[["class","menu-title"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t"])),(n()(),N["\u0275and"](16777216,null,null,1,null,t)),N["\u0275did"](16384,null,0,O.NgIf,[N.ViewContainerRef,N.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),N["\u0275ted"](null,[" \n\t\t\t"])),(n()(),N["\u0275and"](16777216,null,null,1,null,u)),N["\u0275did"](16384,null,0,O.NgIf,[N.ViewContainerRef,N.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),N["\u0275ted"](null,["\n\t\t"])),(n()(),N["\u0275ted"](null,["\n\t\t"])),(n()(),N["\u0275eld"](0,null,null,7,"div",[["class","menu-list"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t"])),(n()(),N["\u0275eld"](0,null,null,4,"ul",[["class","menu-ul"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t\t"])),(n()(),N["\u0275and"](16777216,null,null,1,null,r)),N["\u0275did"](802816,null,0,O.NgForOf,[N.ViewContainerRef,N.TemplateRef,N.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),N["\u0275ted"](null,["\n\t\t\t"])),(n()(),N["\u0275ted"](null,["\n\t\t"])),(n()(),N["\u0275ted"](null,["\n\t\t"])),(n()(),N["\u0275ted"](null,["\n\t\t"])),(n()(),N["\u0275eld"](0,null,null,16,"div",[["class","viewFramework-product-navbar-collapse"]],null,null,null,null,null)),N["\u0275did"](278528,null,0,O.NgClass,[N.IterableDiffers,N.KeyValueDiffers,N.ElementRef,N.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),N["\u0275pod"](["close"]),(n()(),N["\u0275ted"](null,["\n\t\t\t"])),(n()(),N["\u0275eld"](0,null,null,11,"div",[["class","product-navbar-collapse-inner"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.fnNavber()&&t}return t},null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t    "])),(n()(),N["\u0275eld"](0,null,null,0,"div",[["class","product-navbar-collapse-bg"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t    "])),(n()(),N["\u0275eld"](0,null,null,6,"div",[["class","product-navbar-collapse"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t\t    "])),(n()(),N["\u0275eld"](0,null,null,3,"span",[],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t\t    \t"])),(n()(),N["\u0275eld"](0,null,null,0,"i",[["class","iconfont_common common-collapse-right"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t\t\t    "])),(n()(),N["\u0275ted"](null,["\n\t\t\t    "])),(n()(),N["\u0275ted"](null,["\n\t\t\t"])),(n()(),N["\u0275ted"](null,["\n\t\t"])),(n()(),N["\u0275ted"](null,["\n\t"]))],function(n,l){var e=l.component;n(l,1,0,n(l,2,0,e.secMenuWidth)),n(l,7,0,!e.showReturn),n(l,10,0,e.showReturn),n(l,18,0,e.menuData.secMenus);n(l,24,0,"viewFramework-product-navbar-collapse",n(l,25,0,0==e.openShrink))},null)}function c(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,0,"link",[["rel","stylesheet"],["type","text/css"]],[[8,"href",5]],null,null,null,null)),(n()(),N["\u0275ted"](null,[" \n\n"])),(n()(),N["\u0275eld"](0,null,null,1,"app-riccio-top-navbar",[],null,null,null,x.b,x.a)),N["\u0275did"](770048,null,0,A.a,[_.m,_.a,L.j,B.a,P.a,F.a,T.a],{userName:[0,"userName"],notifyCount:[1,"notifyCount"],companyName:[2,"companyName"],companyMenu:[3,"companyMenu"]},null),(n()(),N["\u0275ted"](null,["\n\n"])),(n()(),N["\u0275eld"](0,null,null,13,"div",[["class","gr-main bsby"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\n    "])),(n()(),N["\u0275eld"](0,null,null,1,"app-riccio-app-left-menu",[],null,null,null,U.b,U.a)),N["\u0275did"](114688,null,0,V.a,[_.a],{leftData:[0,"leftData"]},null),(n()(),N["\u0275ted"](null,["\n\n\t"])),(n()(),N["\u0275and"](16777216,null,null,1,null,s)),N["\u0275did"](16384,null,0,O.NgIf,[N.ViewContainerRef,N.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),N["\u0275ted"](null,["\n\n\n\t"])),(n()(),N["\u0275eld"](0,null,null,4,"div",[["class","gr-contant"]],null,null,null,null,null)),(n()(),N["\u0275ted"](null,["\n\t\t"])),(n()(),N["\u0275eld"](16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),N["\u0275did"](212992,null,0,_.r,[_.b,N.ViewContainerRef,N.ComponentFactoryResolver,[8,null],N.ChangeDetectorRef],null,null),(n()(),N["\u0275ted"](null,["\n\t"])),(n()(),N["\u0275ted"](null,["\n\n"])),(n()(),N["\u0275ted"](null,["\n\n"])),(n()(),N["\u0275eld"](0,null,null,1,"app-riccio-pbox",[],null,[["document","click"],["document","mousemove"]],function(n,l,e){var t=!0;if("document:click"===l){t=!1!==N["\u0275nov"](n,21).OnClick(e)&&t}if("document:mousemove"===l){t=!1!==N["\u0275nov"](n,21).OnMove(e)&&t}return t},E.b,E.a)),N["\u0275did"](770048,null,0,$.a,[B.a,N.ElementRef,N.Renderer],null,null),(n()(),N["\u0275ted"](null,["\n"]))],function(n,l){var e=l.component;n(l,3,0,e.userInfo.user_info.name+" ("+e.userInfo.company_userinfo.real_name+") ",e.userInfo.notify,e.userInfo.company_userinfo.name,e.comMenu),n(l,8,0,e.leftMenuData),n(l,11,0,e.menuData.secMenus.length>0),n(l,16,0),n(l,21,0)},function(n,l){n(l,0,0,l.component.windowUrl)})}function d(n){return N["\u0275vid"](0,[(n()(),N["\u0275eld"](0,null,null,1,"app-bsby-service",[],null,null,null,c,W)),N["\u0275did"](8503296,null,0,S,[_.a,_.m,O.Location,N.ChangeDetectorRef,q.a,j.a,K.a,P.a],null,null)],function(n,l){n(l,1,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var p=function(){function n(){}return n}(),f=[".bsby[_ngcontent-%COMP%]{top:52px;display:block;height:auto}.bsby[_ngcontent-%COMP%]   .return[_ngcontent-%COMP%]{display:inline-block;height:100%;width:100%;text-align:center;cursor:pointer;color:gray}.bsby[_ngcontent-%COMP%]   .gr-contant[_ngcontent-%COMP%]{overflow:auto;height:100%;background:#fff;width:auto}.bsby[_ngcontent-%COMP%]   .gr-secound-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.2}"],m=e("/oeL"),h=e("qbdv"),v=e("BkNc"),b=e("gbhw"),g=(e.n(b),e("Npun")),y=e("EifB"),I=e("ubkE"),R=e("wXfU"),M=e("ykyl"),k=this&&this.__assign||Object.assign||function(n){for(var l,e=1,t=arguments.length;e<t;e++){l=arguments[e];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(n[u]=l[u])}return n},S=function(){function n(n,l,e,t,u,o,i,a){this.activatedRoute=n,this.router=l,this.location=e,this.changeDetectorRef=t,this.appService=u,this.bsbyService=o,this.grAppInfoService=i,this.grMembersService=a,this.appInfo={},this.userInfo={},this.menuData=new M.a,this.secMenuWidth="180px",this.openShrink=!0,this.windowUrl=this.appService.iconUrls.bsby,this.showReturn=!1,this.siteRouteInfo={siteId:null},this.resolveRouteMenus()}return n.prototype.ngOnInit=function(){var n=this;sessionStorage.setItem("loading","false"),this.activatedRoute.data.subscribe(function(l){n.resolveUserInfo(l.userInfo)}),this.bsbyService.siteRouteInfoObj.subscribe(function(l){n.siteRouteInfo=l,n.showReturn&&n.resolveRefreshSecMenu()}),this.getAppInfo(),this.getComMenu()},n.prototype.ngAfterViewChecked=function(){this.changeDetectorRef.detectChanges()},n.prototype.resolveUserInfo=function(n){n&&(this.userInfo=n.data,this.userInfo.company_userinfo.logo=this.appService.resolveFileString(this.userInfo.company_userinfo.logo),this.bsbyService.setUserInfo(this.userInfo),this.userInfo.is_administrator)},n.prototype.resolveRouteMenus=function(){var n=this;this.bsbyService.bsbyMenus=this.activatedRoute.snapshot.data.menus.data,this.menuData.menus=this.bsbyService.bsbyMenus,this.leftMenuData={title:"\u767e\u641c\u767e\u5e94",logo:"",module:"bsby",menu:this.bsbyService.bsbyMenus},this.router.events.filter(function(n){return n instanceof v.d}).subscribe(function(l){var e=l.urlAfterRedirects.toString().split("/")[2],t=l.urlAfterRedirects.toString().split("/")[3];"site"==e&&n.resolveFeature(t)?(n.resolveRefreshSecMenu(),n.showReturn=!0):(n.showReturn=!1,n.menuData.secMenusTitle=n.menuData.secMenuTitleData[e],n.menuData.menus.every(function(l){return l.url!==e||(n.menuData.secMenus=l.chilren,!1)}))})},n.prototype.resolveFeature=function(n){return"info"==n||"keyword"==n||"programme"==n||"demand"==n||"article"==n||"friendLink"==n||"backLink"==n},n.prototype.resolveRefreshSecMenu=function(){var n=this;this.menuData.secMenus=JSON.parse(JSON.stringify(this.menuData.siteMgrMenus)),this.siteRouteInfo.siteId&&this.menuData.secMenus.forEach(function(l){l.notId||(l.url+="/"+n.siteRouteInfo.siteId)})},n.prototype.fnBack=function(){this.showReturn&&this.router.navigate(["BsbyService/site/list/"+this.bsbyService.siteInfo.type])},n.prototype.getComMenu=function(){var n=this;this.grMembersService.getCurrentMenu().subscribe(function(l){1===l.status&&(n.comMenu=l.data)})},n.prototype.getAppInfo=function(){var n=this;this.grAppInfoService.postAppInfo({model:"BsbyService"}).subscribe(function(l){1===l.status&&(n.appInfo=k({},l.data),n.bsbyService.setAppInfo(n.appInfo),n.leftMenuData.title=n.appInfo.name,n.leftMenuData.logo=window.setting.fileurl+n.appInfo.thumb)})},n.prototype.fnNavber=function(){var n=this;this.openShrink?this.secMenuWidth="0px":this.secMenuWidth="180px",setTimeout(function(){n.openShrink=!n.openShrink},200)},n.ctorParameters=function(){return[{type:v.a},{type:v.m},{type:h.Location},{type:m.ChangeDetectorRef},{type:g.a},{type:R.a},{type:y.a},{type:I.a}]},n}(),C=e("uovT"),w=e("fr68"),D=e("cq2e"),N=e("/oeL"),_=e("BkNc"),O=e("qbdv"),x=e("qR8A"),A=e("zY53"),L=e("fc+i"),B=e("oaZH"),P=e("ubkE"),F=e("Lknn"),T=e("rApN"),U=e("QVpm"),V=e("d5Ye"),E=e("rh/R"),$=e("G6y9"),q=e("Npun"),j=e("wXfU"),K=e("EifB"),z=[C.a,w.a,D.a,f],W=N["\u0275crt"]({encapsulation:0,styles:z,data:{}}),G=N["\u0275ccf"]("app-bsby-service",S,d,{},{},[]),H=e("3cFb"),J=e("Npun"),X=function(){function n(n){this.appService=n,this.menuUrl=(new H.a).SAASURL+"api/app/menu"}return n.prototype.getMenus=function(){return this.appService.interfaceJudg("get",this.menuUrl,{model:"BsbyService"})},n.prototype.resolve=function(n,l){return this.getMenus()},n.ctorParameters=function(){return[{type:J.a}]},n}(),Y=e("ubkE"),Z=(Y.a,function(){function n(){}return n}());e.d(l,"BsbyServiceModuleNgFactory",function(){return _n});var Q=e("/oeL"),nn=e("qbdv"),ln=e("bm2B"),en=e("2BHi"),tn=e("Npun"),un=e("S1rZ"),on=e("dCDK"),an=e("GuOB"),rn=e("LffP"),sn=e("Rc5G"),cn=e("Xuhc"),dn=e("fPjC"),pn=e("RR5G"),fn=e("V3gG"),mn=e("IPUR"),hn=e("oaZH"),vn=e("YwKf"),bn=e("rApN"),gn=e("wXfU"),yn=e("BkNc"),In=e("0Dgz"),Rn=e("fXtA"),Mn=e("Helo"),kn=e("bgz2"),Sn=e("IhPF"),Cn=e("Mw4q"),wn=e("RJPW"),Dn=e("qtSu"),Nn=e("ubkE"),_n=Q["\u0275cmf"](p,[],function(n){return Q["\u0275mod"]([Q["\u0275mpd"](512,Q.ComponentFactoryResolver,Q["\u0275CodegenComponentFactoryResolver"],[[8,[G]],[3,Q.ComponentFactoryResolver],Q.NgModuleRef]),Q["\u0275mpd"](4608,nn.NgLocalization,nn.NgLocaleLocalization,[Q.LOCALE_ID]),Q["\u0275mpd"](4608,ln.A,ln.A,[]),Q["\u0275mpd"](4608,ln.d,ln.d,[]),Q["\u0275mpd"](4608,en.a,en.a,[tn.a]),Q["\u0275mpd"](4608,un.a,un.a,[tn.a]),Q["\u0275mpd"](4608,on.a,on.a,[tn.a]),Q["\u0275mpd"](4608,an.a,an.a,[tn.a]),Q["\u0275mpd"](4608,rn.a,rn.a,[tn.a]),Q["\u0275mpd"](4608,sn.a,sn.a,[tn.a]),Q["\u0275mpd"](4608,cn.a,cn.a,[tn.a]),Q["\u0275mpd"](4608,dn.a,dn.a,[tn.a]),Q["\u0275mpd"](4608,pn.a,pn.a,[tn.a]),Q["\u0275mpd"](4608,fn.a,fn.a,[tn.a]),Q["\u0275mpd"](4608,mn.a,mn.a,[tn.a]),Q["\u0275mpd"](4608,hn.a,hn.a,[]),Q["\u0275mpd"](4608,vn.a,vn.a,[]),Q["\u0275mpd"](4608,bn.a,bn.a,[]),Q["\u0275mpd"](4608,X,X,[tn.a]),Q["\u0275mpd"](4608,gn.a,gn.a,[hn.a]),Q["\u0275mpd"](512,nn.CommonModule,nn.CommonModule,[]),Q["\u0275mpd"](512,yn.q,yn.q,[[2,yn.v],[2,yn.m]]),Q["\u0275mpd"](512,ln.x,ln.x,[]),Q["\u0275mpd"](512,ln.h,ln.h,[]),Q["\u0275mpd"](512,ln.t,ln.t,[]),Q["\u0275mpd"](512,In.a,In.a,[]),Q["\u0275mpd"](512,Rn.a,Rn.a,[]),Q["\u0275mpd"](512,Mn.a,Mn.a,[]),Q["\u0275mpd"](512,kn.a,kn.a,[]),Q["\u0275mpd"](512,Sn.a,Sn.a,[]),Q["\u0275mpd"](512,Cn.a,Cn.a,[]),Q["\u0275mpd"](512,wn.a,wn.a,[]),Q["\u0275mpd"](512,Z,Z,[]),Q["\u0275mpd"](512,Dn.a,Dn.a,[]),Q["\u0275mpd"](512,p,p,[]),Q["\u0275mpd"](1024,yn.k,function(){return[[{path:"",component:S,resolve:{menus:X,userInfo:Nn.a},children:[{path:"",redirectTo:"customer",pathMatch:"full"},{path:"customer",loadChildren:"../BsbyService/pages/customers/customers.module#CustomersModule"},{path:"site",loadChildren:"../BsbyService/pages/sites/sites.module#SitesModule"},{path:"product",loadChildren:"../BsbyService/pages/products/products.module#ProductsModule"},{path:"keyword",loadChildren:"../BsbyService/pages/keywords/keywords.module#KeywordsModule"},{path:"demand",loadChildren:"../BsbyService/pages/demands/demands.module#DemandsModule"},{path:"programme",loadChildren:"../BsbyService/pages/programmes/programmes.module#ProgrammesModule"}]}]]},[])])})}});